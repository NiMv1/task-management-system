# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚Äî Task Management System

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ –Ω–∞ —Å–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è | –°—Å—ã–ª–∫–∞ |
|-----------|--------|--------|
| **Java** | 17+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 21) | [Eclipse Temurin](https://adoptium.net/) |
| **Maven** | 3.8+ | [Apache Maven](https://maven.apache.org/download.cgi) |
| **Docker** | 20+ | [Docker Desktop](https://www.docker.com/products/docker-desktop/) |
| **Docker Compose** | 2.0+ | –í–∫–ª—é—á—ë–Ω –≤ Docker Desktop |

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Frontend   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ API Gateway ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Services  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ                 ‚îÇ                 ‚îÇ
         ‚ñº                 ‚ñº                 ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ   Auth    ‚îÇ    ‚îÇ   Task    ‚îÇ    ‚îÇ Notification  ‚îÇ
   ‚îÇ  Service  ‚îÇ    ‚îÇ  Service  ‚îÇ    ‚îÇ   Service     ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                ‚îÇ                  ‚îÇ
         ‚ñº                ‚ñº                  ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇPostgreSQL ‚îÇ    ‚îÇPostgreSQL ‚îÇ    ‚îÇ   Kafka   ‚îÇ
   ‚îÇ  (Auth)   ‚îÇ    ‚îÇ  (Tasks)  ‚îÇ    ‚îÇ           ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üê≥ –°–ø–æ—Å–æ–± 1: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/NiMv1/task-management-system.git
cd task-management-system

# 2. –°–æ–±–µ—Ä–∏—Ç–µ –≤—Å–µ –º–æ–¥—É–ª–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è Java 21 –∏ Maven)
mvn clean package -DskipTests

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å (–ø–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏)
docker-compose ps
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç Java/Maven, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É:
> ```bash
> docker-compose up -d auth-db task-db redis zookeeper kafka prometheus grafana
> ```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:

| –°–µ—Ä–≤–∏—Å | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----|----------|
| **API Gateway** | http://localhost:8080 | –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ |
| **Auth Service** | http://localhost:8081 | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
| **Task Service** | http://localhost:8082 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ |
| **Notification Service** | http://localhost:8083 | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |
| **PostgreSQL (Auth)** | localhost:5432 | –ë–î –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| **PostgreSQL (Tasks)** | localhost:5433 | –ë–î –∑–∞–¥–∞—á |
| **Kafka** | localhost:9092 | –û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π |
| **Redis** | localhost:6379 | –ö—ç—à |
| **Prometheus** | http://localhost:9090 | –ú–µ—Ç—Ä–∏–∫–∏ |
| **Grafana** | http://localhost:3000 | –î–∞—à–±–æ—Ä–¥—ã (admin/admin) |

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
docker-compose down

# –° —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö:
docker-compose down -v
```

---

## üíª –°–ø–æ—Å–æ–± 2: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É

```bash
docker-compose up -d postgres-auth postgres-task kafka redis zookeeper
```

### –®–∞–≥ 2: –°–æ–±–µ—Ä–∏—Ç–µ –≤—Å–µ –º–æ–¥—É–ª–∏

```bash
mvn clean package -DskipTests
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã (–≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö)

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: Auth Service
cd auth-service
mvn spring-boot:run

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: Task Service
cd task-service
mvn spring-boot:run

# –¢–µ—Ä–º–∏–Ω–∞–ª 3: Notification Service
cd notification-service
mvn spring-boot:run

# –¢–µ—Ä–º–∏–Ω–∞–ª 4: API Gateway
cd api-gateway
mvn spring-boot:run
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### 1. Health Check –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# API Gateway
curl http://localhost:8080/actuator/health

# Auth Service
curl http://localhost:8081/actuator/health

# Task Service
curl http://localhost:8082/actuator/health
```

### 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
curl -X POST http://localhost:8080/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com",
    "password": "password123"
  }'
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```json
{
  "success": true,
  "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω",
  "data": {
    "accessToken": "eyJhbGciOiJIUzI1NiJ9...",
    "refreshToken": "..."
  }
}
```

### 3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```bash
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "password": "password123"
  }'
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (—Å —Ç–æ–∫–µ–Ω–æ–º)

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_TOKEN –Ω–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π accessToken
curl -X POST http://localhost:8080/api/projects \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "name": "–ú–æ–π –ø–µ—Ä–≤—ã–π –ø—Ä–æ–µ–∫—Ç",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"
  }'
```

### 5. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

```bash
curl -X POST http://localhost:8080/api/tasks \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "title": "–ü–µ—Ä–≤–∞—è –∑–∞–¥–∞—á–∞",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏",
    "projectId": 1,
    "priority": "HIGH"
  }'
```

### 6. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á

```bash
curl http://localhost:8080/api/tasks \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## üìñ API Endpoints

### Auth Service (`/api/auth`)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `POST` | `/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è |
| `POST` | `/login` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è |
| `POST` | `/refresh` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ |
| `POST` | `/logout` | –í—ã—Ö–æ–¥ |

### Task Service (`/api/projects`, `/api/tasks`)

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/api/projects` | –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ |
| `POST` | `/api/projects` | –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç |
| `GET` | `/api/projects/{id}` | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç |
| `PUT` | `/api/projects/{id}` | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç |
| `DELETE` | `/api/projects/{id}` | –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç |
| `GET` | `/api/tasks` | –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á |
| `POST` | `/api/tasks` | –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É |
| `GET` | `/api/tasks/{id}` | –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É |
| `PUT` | `/api/tasks/{id}` | –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É |
| `DELETE` | `/api/tasks/{id}` | –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É |
| `PATCH` | `/api/tasks/{id}/status` | –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å |

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Auth Service
AUTH_DB_HOST=localhost
AUTH_DB_PORT=5432
AUTH_DB_NAME=auth_db
JWT_SECRET=your-secret-key

# Task Service
TASK_DB_HOST=localhost
TASK_DB_PORT=5433
TASK_DB_NAME=task_db
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
```

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### Kafka –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Zookeeper –∑–∞–ø—É—â–µ–Ω –ø–µ—Ä–≤—ã–º
docker-compose up -d zookeeper
sleep 10
docker-compose up -d kafka
```

### –ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–Ω—è—Ç—ã–µ –ø–æ—Ä—Ç—ã
netstat -ano | findstr :8080
netstat -ano | findstr :5432
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down -v
docker-compose up -d
```

### –û—à–∏–±–∫–∞ "Connection refused"
–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ ‚Äî —Å–µ—Ä–≤–∏—Å–∞–º –Ω—É–∂–Ω–æ –≤—Ä–µ–º—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Prometheus
- URL: http://localhost:9090
- –ú–µ—Ç—Ä–∏–∫–∏: `http_server_requests_seconds_count`, `jvm_memory_used_bytes`

### Grafana
- URL: http://localhost:3000
- –õ–æ–≥–∏–Ω: `admin` / `admin`
- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞—à–±–æ—Ä–¥: ID `4701` (JVM Micrometer)

---

## üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
mvn test

# –¢–µ—Å—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è
mvn test -pl auth-service
mvn test -pl task-service

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (—Ç—Ä–µ–±—É—é—Ç Docker)
mvn verify -pl task-service
```

---

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
task-management-system/
‚îú‚îÄ‚îÄ common/                 # –û–±—â–∏–µ DTO –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ auth-service/           # –°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ task-service/           # –°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏
‚îú‚îÄ‚îÄ notification-service/   # –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îú‚îÄ‚îÄ api-gateway/            # API Gateway
‚îú‚îÄ‚îÄ k8s/                    # Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ monitoring/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îî‚îÄ‚îÄ docker-compose.yml      # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

---

**–ê–≤—Ç–æ—Ä**: [NiMv1](https://github.com/NiMv1)
